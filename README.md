# æ‹‰æ‹‰åŒ¹é…ç³»ç»Ÿ (LaLa Matching System)

ä¸€ä¸ªåŸºäºç¡¬æ¡ä»¶å’Œè½¯æ¡ä»¶çš„æ™ºèƒ½ç”¨æˆ·åŒ¹é…ç³»ç»Ÿï¼Œä¸“ä¸ºæ‹‰æ‹‰ç¤¾åŒºè®¾è®¡ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹ç‚¹

### ç¡¬æ¡ä»¶åŒ¹é…
- **æ€§åˆ«å’Œæ€§å–å‘**ï¼šç¡®ä¿åŸºæœ¬åŒ¹é…
- **å¹´é¾„èŒƒå›´**ï¼šæ”¯æŒå¹´é¾„åå¥½å’Œå·®å¼‚é™åˆ¶
- **åœ°ç†ä½ç½®**ï¼šæ”¯æŒåŒåŸã€åŒçœç­‰ä½ç½®åå¥½
- **å©šå§»å’Œå­å¥³çŠ¶å†µ**ï¼šåŒ¹é…ç”Ÿæ´»çŠ¶æ€
- **å¦å†³é¡¹æ£€æŸ¥**ï¼šé¿å…ä¸åˆé€‚çš„åŒ¹é…

### è½¯æ¡ä»¶è¯„åˆ†
- **MBTIæ€§æ ¼åŒ¹é…**ï¼šåŸºäºå¿ƒç†å­¦ç†è®ºçš„æ€§æ ¼å…¼å®¹æ€§ç®—æ³•
- **æ²Ÿé€šæ ‡ç­¾**ï¼šåŸºäºå…´è¶£æ ‡ç­¾çš„ç›¸ä¼¼åº¦è®¡ç®—
- **æ–‡æœ¬åˆ†æ**ï¼šæ”¯æŒDeepSeek APIçš„æ™ºèƒ½æ–‡æœ¬åˆ†æ
- **å…´è¶£çˆ±å¥½**ï¼šJaccardç›¸ä¼¼åº¦è®¡ç®—
- **ç”Ÿæ´»æ–¹å¼**ï¼šç”Ÿæ´»ä¹ æƒ¯åŒ¹é…åº¦è¯„ä¼°

## ğŸ“ é¡¹ç›®ç»“æ„

```
æ‹‰æ‹‰åŒ¹é…/
â”œâ”€â”€ user_matching_module.py    # æ ¸å¿ƒåŒ¹é…ç®—æ³•æ¨¡å—
â”œâ”€â”€ example_usage.py          # å®Œæ•´ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ simple_example.py         # ç®€åŒ–ç¤ºä¾‹
â”œâ”€â”€ requirements.txt          # é¡¹ç›®ä¾èµ–
â””â”€â”€ README.md                # é¡¹ç›®è¯´æ˜
```

## ğŸ› ï¸ å®‰è£…å’Œä½¿ç”¨

### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 2. åŸºæœ¬ä½¿ç”¨
```python
from user_matching_module import compute_match_score

# ç”¨æˆ·æ•°æ®
user1 = {
    'id': 'U001',
    'gender': 'å¥³',
    'orientation': 'æ‹‰æ‹‰',
    'age': 25,
    'mbti': 'INTJ',
    'tags': ['ç†æ€§', 'ç‹¬ç«‹'],
    'interests': ['é˜…è¯»', 'ç¼–ç¨‹'],
    'bio': 'å–œæ¬¢æ·±åº¦æ€è€ƒçš„ç†æ€§ä¸»ä¹‰è€…'
}

user2 = {
    'id': 'U002',
    'gender': 'å¥³',
    'orientation': 'æ‹‰æ‹‰',
    'age': 27,
    'mbti': 'ENFP',
    'tags': ['çƒ­æƒ…', 'åˆ›æ„'],
    'interests': ['è‰ºæœ¯', 'æ—…è¡Œ'],
    'bio': 'å……æ»¡åˆ›æ„çš„ç¤¾äº¤è¾¾äºº'
}

# è®¡ç®—åŒ¹é…åˆ†æ•°
score, passed = compute_match_score(user1, user2)
print(f"åŒ¹é…åˆ†æ•°: {score:.2f}%")
print(f"é€šè¿‡ç¡¬æ¡ä»¶: {passed}")
```

### 3. æ‰¹é‡åŒ¹é…
```python
from user_matching_module import batch_match_users

users = [user1, user2, user3, ...]
results = batch_match_users(users)
for result in results:
    print(f"{result['user1_id']} vs {result['user2_id']}: {result['score']:.2f}%")
```

## ğŸ§  MBTIåŒ¹é…ç®—æ³•

### æ ¸å¿ƒç†è®º
åŸºäºå¿ƒç†å­¦è®¤çŸ¥åŠŸèƒ½ç†è®ºï¼š
- **N/S å’Œ T/F**ï¼šå°½é‡ç›¸åŒï¼ˆç¬¬äºŒã€ä¸‰å­—æ¯ï¼‰
- **J/P å’Œ E/I**ï¼šå°½é‡äº’è¡¥ï¼ˆç¬¬ä¸€ã€å››å­—æ¯ï¼‰

### æƒé‡åˆ†é…
```python
MBTI_WEIGHTS = {
    'E_I': 0.3,   # å¤–å‘/å†…å‘ï¼ˆäº’è¡¥ï¼‰
    'S_N': 0.4,   # æ„ŸçŸ¥/ç›´è§‰ï¼ˆé«˜æƒé‡ï¼Œå°½é‡ç›¸åŒï¼‰
    'T_F': 0.4,   # æ€è€ƒ/æƒ…æ„Ÿï¼ˆé«˜æƒé‡ï¼Œå°½é‡ç›¸åŒï¼‰
    'J_P': 0.3,   # åˆ¤æ–­/æ„ŸçŸ¥ï¼ˆäº’è¡¥ï¼‰
}
```

### ç¤ºä¾‹
- **INTJ vs ENFP**ï¼š0.76åˆ†ï¼ˆE/Iäº’è¡¥ï¼ŒNç›¸åŒï¼ŒT/Fä¸åŒï¼ŒJ/Päº’è¡¥ï¼‰
- **ISTJ vs ESFP**ï¼š0.76åˆ†ï¼ˆE/Iäº’è¡¥ï¼ŒSç›¸åŒï¼ŒT/Fä¸åŒï¼ŒJ/Päº’è¡¥ï¼‰

## ğŸ”§ é«˜çº§åŠŸèƒ½

### DeepSeek APIé›†æˆ
```python
# è®¾ç½®APIå¯†é’¥
api_key = "your_deepseek_api_key"
score, passed = compute_match_score(user1, user2, api_key)
```

### è‡ªå®šä¹‰æƒé‡
```python
# ä¿®æ”¹è½¯æ¡ä»¶æƒé‡
SOFT_WEIGHTS = {
    'communication': 3.0,
    'mbti': 4.0,
    'text_analysis': 3.0,
    'interests': 2.0,
    'lifestyle': 2.0
}
```

## ğŸ“Š æ€§èƒ½ç‰¹ç‚¹

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(nÂ²) ç”¨äºæ‰¹é‡åŒ¹é…
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(n) ç”¨äºç”¨æˆ·æ•°æ®å­˜å‚¨
- **APIè°ƒç”¨**ï¼šæ”¯æŒDeepSeek V3.1æ™ºèƒ½åˆ†æ
- **å®¹é”™æœºåˆ¶**ï¼šAPIå¤±è´¥æ—¶è‡ªåŠ¨é™çº§åˆ°æœ¬åœ°ç®—æ³•

## ğŸ§ª æµ‹è¯•ç¤ºä¾‹

è¿è¡Œ `simple_example.py` æŸ¥çœ‹åŸºæœ¬æµ‹è¯•ï¼š
```bash
python simple_example.py
```

è¿è¡Œ `example_usage.py` æŸ¥çœ‹å®Œæ•´æ¼”ç¤ºï¼š
```bash
python example_usage.py
```

## ğŸ“ ç”¨æˆ·æ•°æ®æ ¼å¼

### å¿…éœ€å­—æ®µ
```python
{
    'id': 'ç”¨æˆ·ID',
    'gender': 'å¥³',
    'orientation': 'æ‹‰æ‹‰',
    'age': 25
}
```

### å¯é€‰å­—æ®µ
```python
{
    'mbti': 'INTJ',                    # MBTIç±»å‹
    'tags': ['ç†æ€§', 'ç‹¬ç«‹'],          # æ²Ÿé€šæ ‡ç­¾
    'interests': ['é˜…è¯»', 'ç¼–ç¨‹'],     # å…´è¶£çˆ±å¥½
    'bio': 'ä¸ªäººä»‹ç»æ–‡æœ¬',             # ä¸ªäººä»‹ç»
    'location': 'åŒ—äº¬',                # åœ°ç†ä½ç½®
    'age_range': '26-35',             # å¹´é¾„åå¥½
    'marriage_status': 'å•èº«',         # å©šå§»çŠ¶å†µ
    'has_children': False,            # æ˜¯å¦æœ‰å­å¥³
    'veto_items': ['å¸çƒŸ', 'é…—é…’'],   # å¦å†³é¡¹
    'lifestyle': {                    # ç”Ÿæ´»æ–¹å¼
        'smoking': 'ä¸å¸çƒŸ',
        'exercise': 'ç»å¸¸è¿åŠ¨'
    }
}
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›é¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡GitHub Issuesè”ç³»ã€‚ 